[gd_scene load_steps=29 format=4 uid="uid://cjufcr2toyf7t"]

[ext_resource type="TileSet" uid="uid://bnx45rbbsfeci" path="res://assets/catacombs_tileset.tres" id="1_2hkqh"]
[ext_resource type="Script" uid="uid://patkktgw1bbd" path="res://src/world/terrain.gd" id="2_iyt7o"]
[ext_resource type="PackedScene" uid="uid://cmubnd2oc4lex" path="res://world/characters/Goblin.tscn" id="3_7eh4v"]
[ext_resource type="PackedScene" uid="uid://bk6cmdekysf0j" path="res://world/items/containers/Chest.tscn" id="4_frud3"]
[ext_resource type="Script" uid="uid://kygkbg3kqosp" path="res://src/player/player_character_controller.gd" id="4_onm6l"]
[ext_resource type="Script" uid="uid://cyjt8uhdv01dp" path="res://src/player/follow_camera.gd" id="5_frud3"]
[ext_resource type="Script" uid="uid://ctqjnf2yg1uvt" path="res://src/items/item_data.gd" id="7_85iv0"]
[ext_resource type="Script" uid="uid://3vjtbq2kcl8g" path="res://src/characters/detector.gd" id="8_w5suy"]
[ext_resource type="Texture2D" uid="uid://b656w8clmgsyk" path="res://assets/items.png" id="8_xdg1s"]
[ext_resource type="PackedScene" uid="uid://dehu0venmupva" path="res://world/items/Coin.tscn" id="9_45x0d"]
[ext_resource type="PackedScene" uid="uid://cirkhmxhfm3hn" path="res://world/items/Torch.tscn" id="9_w5suy"]
[ext_resource type="PackedScene" uid="uid://ykf6nsdak0fj" path="res://world/items/Diamond.tscn" id="10_qkoud"]
[ext_resource type="PackedScene" uid="uid://7mdy3xr0foye" path="res://world/items/containers/ChestUI.tscn" id="11_q2kkg"]
[ext_resource type="Texture2D" uid="uid://dkrq5othh4xcw" path="res://assets/containers.png" id="12_qdy20"]

[sub_resource type="SystemFont" id="SystemFont_srrxd"]
font_names = PackedStringArray("Fantasy")
font_weight = 999
allow_system_fallback = false

[sub_resource type="LabelSettings" id="LabelSettings_x2hlg"]
font = SubResource("SystemFont_srrxd")
font_size = 50

[sub_resource type="AtlasTexture" id="AtlasTexture_nwlm4"]
atlas = ExtResource("8_xdg1s")
region = Rect2(34, 17, 16, 16)

[sub_resource type="Resource" id="Resource_85iv0"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Coin"
shininess = 10.0
description = "Lucky!"
ui_sprite = SubResource("AtlasTexture_nwlm4")
world_scene = ExtResource("9_45x0d")
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="AtlasTexture" id="AtlasTexture_ipdfa"]
atlas = ExtResource("8_xdg1s")
region = Rect2(17, 17, 15, 15)

[sub_resource type="Resource" id="Resource_xdg1s"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Diamond"
shininess = 100.0
description = "So shiny!"
ui_sprite = SubResource("AtlasTexture_ipdfa")
world_scene = ExtResource("10_qkoud")
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="AtlasTexture" id="AtlasTexture_45x0d"]
resource_local_to_scene = true
atlas = ExtResource("12_qdy20")
region = Rect2(0, 34, 16, 16)

[sub_resource type="Resource" id="Resource_qkoud"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Chest"
shininess = 60.0
description = "Look at that chest!"
ui_sprite = SubResource("AtlasTexture_45x0d")
world_scene = ExtResource("4_frud3")
is_container = true
capacity = 16
ui_scene = ExtResource("11_q2kkg")
items = Array[ExtResource("7_85iv0")]([SubResource("Resource_85iv0"), SubResource("Resource_85iv0"), SubResource("Resource_xdg1s"), SubResource("Resource_85iv0")])
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="CircleShape2D" id="CircleShape2D_oh7y7"]
radius = 48.0

[sub_resource type="Resource" id="Resource_q2kkg"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Coin"
shininess = 10.0
description = "Lucky!"
ui_sprite = SubResource("AtlasTexture_nwlm4")
world_scene = ExtResource("9_45x0d")
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="Resource" id="Resource_qdy20"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Diamond"
shininess = 100.0
description = "So shiny!"
ui_sprite = SubResource("AtlasTexture_ipdfa")
world_scene = ExtResource("10_qkoud")
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="AtlasTexture" id="AtlasTexture_rd0ix"]
resource_local_to_scene = true
atlas = ExtResource("12_qdy20")
region = Rect2(0, 34, 16, 16)

[sub_resource type="Resource" id="Resource_n1bwx"]
resource_local_to_scene = true
script = ExtResource("7_85iv0")
display_name = "Chest"
shininess = 60.0
description = "Look at that chest!"
ui_sprite = SubResource("AtlasTexture_rd0ix")
world_scene = ExtResource("4_frud3")
is_container = true
capacity = 16
ui_scene = ExtResource("11_q2kkg")
items = Array[ExtResource("7_85iv0")]([SubResource("Resource_q2kkg"), SubResource("Resource_q2kkg"), SubResource("Resource_qdy20"), SubResource("Resource_q2kkg")])
metadata/_custom_type_script = "uid://ctqjnf2yg1uvt"

[sub_resource type="CircleShape2D" id="CircleShape2D_cn1ij"]
radius = 48.0

[node name="MainMenuDungeon" type="Node"]

[node name="World" type="Node2D" parent="."]

[node name="Terrain" type="TileMapLayer" parent="World"]
tile_map_data = PackedByteArray("AAD//wAAAQAAAAMAAAAAAAAAAQAAAAMAAAABAAAAAQAAAAMAAAACAAAAAQAAAAMAAAADAAAAAQAAAAMAAAAEAAAAAQAAAAMAAAAFAAAAAQAAAAMAAAAGAAAAAQAAAAMAAAAGAAIAAQAAAAMAAAAFAAIAAQAAAAMAAAAEAAIAAQAAAAMAAAADAAIAAQAAAAMAAAACAAIAAQAAAAMAAAABAAIAAQAAAAMAAAAAAAIAAQAAAAMAAAD//wIAAQAAAAMAAAD+/wIAAQAAAAMAAAD9/wIAAQAAAAMAAAD8/wIAAQAAAAMAAAD8//7/AQAAAAMAAAD9//7/AQAAAAMAAAD+//7/AQAAAAMAAAD///7/AQAAAAMAAAAAAP7/AQAAAAMAAAABAP7/AQAAAAMAAAACAP7/AQAAAAMAAAADAP7/AQAAAAMAAAADAP//AQAAAAMAAAAEAP//AQAAAAMAAAAFAP//AQAAAAMAAAAGAP//AQAAAAMAAAAGAP7/AQAAAAMAAAAFAP7/AQAAAAMAAAAEAP7/AQAAAAMAAAD8////AQAAAAMAAAD8/wAAAQAAAAMAAAD8/wEAAQAAAAMAAAD9/wEAAQAAAAMAAAD//wEAAQAAAAMAAAAAAAEAAQAGAAMAAAABAAEAAQAFAAMAAAACAP//AQAAAAMAAAABAP//AQAAAAMAAAAAAP//AQAAAAMAAAD/////AQAAAAMAAAD+////AQAAAAMAAAD9////AQAAAAMAAAD9/wAAAQAAAAMAAAD+/wEAAQAAAAMAAAD+/wAAAQAAAAMAAAACAAEAAQAGAAEAAAADAAEAAQAAAAMAAAAEAAEAAQAAAAMAAAAFAAEAAQAAAAMAAAAGAAEAAQAAAAMAAAD8//3/AQAAAAMAAAD9//3/AQAAAAMAAAD+//3/AQAAAAMAAAD///3/AQAAAAMAAAAAAP3/AQAAAAMAAAABAP3/AQAAAAMAAAACAP3/AQAAAAMAAAADAP3/AQAAAAMAAAAEAP3/AQAAAAMAAAAFAP3/AQAAAAMAAAAGAP3/AQAAAAMAAAD9/wMAAQAAAAMAAAD+/wMAAQAAAAMAAAD//wMAAQAAAAMAAAAAAAMAAQAAAAMAAAABAAMAAQAAAAMAAAACAAMAAQAAAAMAAAADAAMAAQAAAAMAAAAEAAMAAQAAAAMAAAAFAAMAAQAAAAMAAAD9/wQAAQAAAAMAAAD+/wQAAQAAAAMAAAD//wQAAQAAAAMAAAAAAAQAAQAAAAMAAAABAAQAAQAAAAMAAAACAAQAAQAAAAMAAAADAAQAAQAAAAMAAAAEAAQAAQAAAAMAAAAFAAQAAQAAAAMAAAD9/wUAAQAAAAMAAAD+/wUAAQAAAAMAAAD//wUAAQAAAAMAAAAAAAUAAQAAAAMAAAABAAUAAQAAAAMAAAACAAUAAQAAAAMAAAADAAUAAQAAAAMAAAAEAAUAAQAAAAMAAAAFAAUAAQAAAAMAAAD8/wMAAQAAAAMAAAD8/wQAAQAAAAMAAAD8/wUAAQAAAAMAAAAGAAMAAQAAAAMAAAAGAAQAAQAAAAMAAAAGAAUAAQAAAAMAAAA=")
tile_set = ExtResource("1_2hkqh")
script = ExtResource("2_iyt7o")
metadata/_custom_type_script = "uid://patkktgw1bbd"

[node name="Control" type="Control" parent="World"]
layout_mode = 3
anchors_preset = 0
offset_left = 64.0
offset_right = 320.0
offset_bottom = 128.0

[node name="Title" type="Label" parent="World/Control"]
layout_mode = 0
offset_right = 256.0
offset_bottom = 128.0
text = "LOOT GOBLIN"
label_settings = SubResource("LabelSettings_x2hlg")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Tutorial Start Label" type="Label" parent="World/Control"]
layout_mode = 0
offset_left = -64.0
offset_top = 128.0
offset_right = 64.0
offset_bottom = 256.0
text = "TUTORIAL
"
horizontal_alignment = 1
vertical_alignment = 2

[node name="Game Start Label" type="Label" parent="World/Control"]
layout_mode = 0
offset_left = 192.0
offset_top = 128.0
offset_right = 320.0
offset_bottom = 256.0
text = "START GAME
"
horizontal_alignment = 1
vertical_alignment = 2

[node name="FollowCamera" type="Camera2D" parent="World" node_paths=PackedStringArray("target")]
offset = Vector2(0, -64)
zoom = Vector2(4, 4)
script = ExtResource("5_frud3")
target = NodePath("../Goblin")
metadata/_custom_type_script = "uid://cyjt8uhdv01dp"

[node name="Goblin" parent="World" instance=ExtResource("3_7eh4v")]
position = Vector2(187, 193)

[node name="PlayerCharacterController" type="Node" parent="World/Goblin" node_paths=PackedStringArray("character")]
script = ExtResource("4_onm6l")
character = NodePath("..")
metadata/_custom_type_script = "uid://kygkbg3kqosp"

[node name="TUTORIAL" parent="World" instance=ExtResource("4_frud3")]
position = Vector2(64, 192)
item_data = SubResource("Resource_qkoud")

[node name="Start_Tutorial" type="Area2D" parent="World/TUTORIAL"]
script = ExtResource("8_w5suy")
metadata/_custom_type_script = "uid://3vjtbq2kcl8g"

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/TUTORIAL/Start_Tutorial"]
shape = SubResource("CircleShape2D_oh7y7")

[node name="START GAME" parent="World" instance=ExtResource("4_frud3")]
position = Vector2(320, 192)
item_data = SubResource("Resource_n1bwx")

[node name="Start_Game" type="Area2D" parent="World/START GAME"]
script = ExtResource("8_w5suy")
metadata/_custom_type_script = "uid://3vjtbq2kcl8g"

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/START GAME/Start_Game"]
shape = SubResource("CircleShape2D_cn1ij")

[node name="CanvasModulate" type="CanvasModulate" parent="World"]
color = Color(0.5019608, 0.5019608, 0.5019608, 1)

[node name="Torch" parent="World" instance=ExtResource("9_w5suy")]
position = Vector2(24, 160)

[node name="Torch2" parent="World" instance=ExtResource("9_w5suy")]
position = Vector2(360, 160)
